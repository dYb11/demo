#netty
私有协议开发示例

1	Netty协议栈承载了业务内部各模块之间的消息交互和服务调用，它的主要功能如下。
2	(1)基于Netty的NIO通信框架，提供高性能的异步通信能力;
3	(2)提供消息的编解码框架，可以实现POJO的序列化和反序列化:
4	(3)提供基于IP地址的白名单接入认证机制;
5	(4)链路的有效性校验机制:
6	(5)链路的析连重连机制。

通信模型：
	(1) Netty协议栈客户端发送握手请求消息，携带节点ID等有效身份认证信息;
	(2) Netty 协议栈服务端对握手请求消息进行合法性校验，包括节点ID有效性校验、
	    节点重复登录校验和IP地址合法性校验，校验通过后，返回登录成功的握手应答消息:
	(3)链路建立成功之后，客户端发送业务消息;
	(4)链路成功之后，服务端发送心跳消息;
	(5)链路建立成功之后，客户端发送心跳消息;
	(6)链路建立成功之后，服务端发送业务消息:
	(7)服务端退出时，服务端关闭连接，客户端感知对方关闭连接后，被动关闭客户端
	    连接。
	    
	备注:需要指出的是，Netty 协议通信双方链路建立成功之后，双方可以进行全双工
	通信，无论客户端还是服务端，都可以主动发送请求消息给对方，通信方式可以是TWO
	WAY或者ONE WAY。双方之间的心跳采用Ping-Pong机制，当链路处于空闲状态时，客
	户端主动发送Ping消息给服务端,服务端接收到Ping消息后发送应答消息Pong给客户端，
	如果客户端连续发送N条Ping消息都没有接收到服务端返回的Pong消息，说明链路已经
	挂死或者对方处于异常状态，客户端主动关闭连接，间隔周期T后发起重连操作，直到重
	连成功。	